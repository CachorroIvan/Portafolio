---
export interface props {
  title: string;
  desc: string;
  image: string; 
  gallery: { src: string; alt: string }[];
  githubUrl?: string;
  demoUrl?: string;
}

const { title, desc, image, gallery, githubUrl, demoUrl } = Astro.props;
---

<div class="relative group h-full">
  
  <div class="absolute -inset-2.5 bg-gradient-to-r from-pink-600 to-purple-200 rounded-lg blur opacity-20 group-hover:opacity-75 transition duration-1000 group-hover:duration-200"></div>

  <div class:list={[
    "relative z-20 h-full rounded-lg shadow-lg",
    "bg-slate-900/90", 
    "backdrop-blur-xl border border-white/10",
    "transition-all duration-300 ease-in-out",
    "hover:scale-[1.02]" 
  ]}>
    
    <div class="overflow-hidden rounded-t-lg cursor-pointer" onclick="document.dispatchEvent(new CustomEvent('open-modal', { detail: { gallery: JSON.parse(this.dataset.gallery) } }))" data-gallery={JSON.stringify(gallery)}>
      <img 
        src={image} 
        alt={title} 
        class="rounded-t-lg w-full h-72 object-cover transition-transform duration-300 ease-in-out hover:scale-110 opacity-90 hover:opacity-100" 
      />
    </div>
    
    <div class="p-6">
      <h2 class="pt-2 font-bold text-xl text-transparent bg-clip-text bg-gradient-to-r from-blue-300 to-purple-300">{title}</h2>
      <p class="pt-2 text-gray-300 text-sm leading-relaxed">{desc}</p>
      
      <h4 class="mt-4 font-semibold text-pink-400 text-sm uppercase tracking-wide">Technologies:</h4>
      <div class="flex space-x-3 my-2">
        <slot name="tech-icons" />
      </div>
      
      <div class="flex justify-end items-center mt-4 space-x-4">
        
        {demoUrl && (
            <a 
              href={demoUrl} 
              target="_blank" 
              aria-label="Ver Demo en Vivo" 
              class="transform hover:scale-125 transition-transform duration-200 ease-in-out inline-block"
              title="Ver Demo en Vivo"
            >
              <img 
                src="/images/icons/web.png" 
                alt="Live Demo" 
                class="w-10 h-10 drop-shadow-[0_0_5px_rgba(255,255,255,0.5)]" 
              /> 
            </a>
        )}

        {githubUrl && (
          <a 
            href={githubUrl} 
            target="_blank" 
            aria-label="Repositorio de GitHub" 
            class="transform hover:scale-125 transition-transform duration-200 ease-in-out inline-block"
          >
            <img src="/images/icons/github.png" alt="GitHub" class="w-10 h-10 drop-shadow-[0_0_5px_rgba(255,255,255,0.5)]" /> 
          </a>
        )}
      </div>

    </div>
  </div>
</div>